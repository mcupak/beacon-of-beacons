<VirtualHost *:443>
ServerName SERVER_NAME
ServerAlias www.SERVER_NAME
DocumentRoot /usr/local/apache2/htdocs/client

# Header set Access-Control-Allow-Origin "*"
RequestHeader set X-Forwarded-Proto "https"
Header add Strict-Transport-Security "max-age=15768000"

RewriteEngine On

TimeOut 600
ProxyTimeout 600

ProxyPreserveHost On
ProxyPass /api http://bob:8080/api
ProxyPassReverse /api http://bob:8080/api
# ProxyPass /beaconizer BEACONIZER_URL
# ProxyPassReverse /beaconizer BEACONIZER_URL

ServerSignature Off
Options +FollowSymLinks

SSLEngine on
SSLCompression off
SSLProtocol ALL -SSLv2 -SSLv3
SSLCipherSuite EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:ECDHE-RSA-AES128-SHA:DHE-RSA-AES128-GCM-SHA256:AES256+EDH:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES128-SHA256:DHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES256-GCM-SHA384:AES128-GCM-SHA256:AES256-SHA256:AES128-SHA256:AES256-SHA:AES128-SHA:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!MD5:!PSK:!RC4
SSLHonorCipherOrder on

SSLCertificateFile /usr/local/apache2/conf/crt.crt
SSLCertificateKeyFile /usr/local/apache2/conf/key.key
SSLCertificateChainFile /usr/local/apache2/conf/chain.pem
CustomLog /usr/local/apache2/logs/ssl_request_log \
"%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \"%r\" %b"
</VirtualHost>
